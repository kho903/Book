# 02. 다양한 데이터베이스
- DBMS에는 여러 종류가 있다. 데이터베이스의 사용 용도나 이를 제어하는 프로그래밍 환경 등 각각의 조건에 들어맞는 다양한 DBMS가 고안되었기 때문.
- 데이터베이스 중에서도 SQL로 다루는 데이터베이스를 관계형 데이터베이스(RDB;Relational Database)라고 한다. 현재 주류를 이루어 많은 시스템에 채택되었으며, 제품도 여러개.

## 1. 데이터베이스 종류
- DBMS는 데이터 저장 방법에 따라 몇 가지로 분류됨. 오래된 순서대로 다음과 같다.

### 계층형 데이터베이스
- 역사가 오래된 DBMS. 폴더와 파일 등의 계층 구조로 데이터를 저장하는 방식의 데이터베이스. 하드디스크나 DVD 파일시스템을 이러한 계층형 데이터베이스라고 할 수 있지만, 현재는 많지 않다.

### 관계형 데이터베이스
- '관계 대수(relational algebra)'라는 것에 착안해 고안된 데이터베이스. 행과 열을 가지는 표 형식 데이터를 저장하는 형태의 데이터베이스. 다만, 엄밀히 관계 대수는 표 형식 데이터와는 관계 없다.
- 표 형식 데이터란 2차원 데이터를 말한다. 가로 방향으로는 '열', 세로 방향으로는 '행'을 나열. 유사한 이미지로 엑셀 시트.
- 관계형 데이터베이스에는 이러한 표를 잔뜩 저장해두고, 각각의 표에 이름을 붙여 관리. 이때 데이터베이스 안의 데이터는 SQL 명령어로 조작 가능.

### 객체지향 데이터베이스
- 자바나 C++을 객체 지향 언어라 한다. '객체(object)'라는 것을 중심으로 프로그래밍하는 언어이다. 여기서 '가능하면 객체 그대로를 데이터베이스의 데이터로 저장하는 것'이 객체지향 데이터베이스.

### XML 데이터베이스
- XML이란 자료 형식으로 태그를 이용해 마크업 문서를 작성할 수 있게 정의한 것. 태그는 `<data>데이터</data>`와 같이 HTML과 흡사한 형식.
- XML 데이터베이스는 XML 형식으로 기록된 데이터를 저장하는 데이터베이스.
- XML 데이터베이스에서는 SQL을 사용할 수 없고, 대신 XML 데이터를 검색할 때는 XQuery라는 전용 명령어 사용.

### 키-벨류 스토어 (KVS)
- 키와 그에 대응하는 값(밸류)이라는 단순한 형태의 데이터를 저장하는 데이터베이스. 키와 밸류의 조합은 연상배열이나 해시 테이블(hash table)에서 자주 볼 수 있다.
  - 연상 배열(associative array)는 자료구조의 하나로, 키 하나와 값 하나가 연관되어 있으며, 키를 통해 연관되는 값을 얻을 수 있다. 연상배열, 결합성 배열, 맵(map), 딕셔너리(dictionary)로도 불림.
- NoSQL(Not only SQL)이라는 슬로건으로부터 생겨난 데이터베이스로, 열 지향 데이터베이스라고도 불린다.


- 프로그래밍 언엉의 진화와 다루는 자료 형식의 변화에 맞추어 DBMS도 진화했다.
- 이 책은 SQL이기 때문에 앞으로의 데이터베이스는 모두 관계형 데이터베이스(RDBMS)를 일컫는다. SQL을 사용할 수 있는 데이터베이스는 관계형 데이터베이스밖에 없기 때문이다.
- RDBMS는 비교적 오래된 축에 속하는 데이터베이스이긴 하지만, 변화가 빠른 시스템 업계에서 여전히 데이터베이스의 주류를 이룬다. 또한 RDBMS 중에는 XML 형식의 데이터를 표에 넣거나 자바나 C++의 객체를
가능한 한 그대로 넣을 수 있도록 확장한 데이터베이스 제품도 있다.

## 2. RDBMS 사용 시스템
- RDBMS는 역사가 깊은 만큼 다양한 시스템에서 사용된다. 메인프레임(main frame)은 대부분 RDBMS를 사용한다고 해도 과언이 아니다. 기업의 기반 시스템으로 채택되는 것은 아주 일반적인 일.
- 다만, 최근 들어 메인프레임 자체를 찾아보기 어려워졌다. 다운사이징으로 인해 소형 워크스테이션(workstation)으로 대체된 것이다. 그래도 여전히 데이터베이스 서버로는 RDBMS가 사용되었는데, 이때부터
클라이언트/서버 구조도 유행.
- 현재 일반적으로 사용하는 인프라는 당연히 인터넷. 웹 시스템과 연동해 RDBMS를 사용하는 경우도 매우 많아짐. 비행기나 전철의 대규모 예약시스템부터 작은 병원의 예약시스템까지 RDBMS는 널리 쓰임.
- 하드웨어의 진화 역시 한몫. 고성능화, 소형화되면서 지금은 휴대전화에도 RDBMS가 내장됨. 예를 들어 구글 안드로이드OS에는 'SQLite'라는 RDBMS가 표준으로 기본 내장됨. 이름에서 알 수 있듯 SQLite는
휴대단말 등 작은 하드웨어용으로 경량화한, 임베디드 시스템에 자주 쓰이는 RDBMS.

## 3. 데이터베이스 제품.
- RDBMS라는 용어는 관계형 데이터베이스를 관리하는 소프트웨어를 일컫는 말. 다만 'RDBMS'라는 이름의 소프트웨어가 존재한다는 뜻은 아니다.
- 실제로 시중에 판매되거나 오픈소스로 자유롭게 다운로드할 수 있는 유명한 제품은 다음과 같은 것이 있다. 오래된 순서로 나열. 

### Oracle
- Oracle 데이터베이스는 오라클에서 개발한 RDBMS이다. 역사가 깊은 만큼 많은 시스템에서 채택해 사용중. 현재 가장 많이 쓰이는 RDBMS 중 하나로, RDBMS의 사실상 표준이라고 해도 문제없을 정도로 유명.

### DB2
- IBM이 개발한 DB2는 Oracle 처럼 역사가 오래된 RDBMS이다. 다만 오라클이 유닉스 워크스테이션 중심이었던 것과 달리, DB2는 발표된 이래 한동안 IBM 컴퓨터에서만 구동되었다.
- 이후 유닉스나 윈도우 등 플랫폼에서도 DB2를 구동할 수 있게 되었지만 시작 점유율을 확대할 수는 없었다. Oracle 쪽이 더 유명한 것 역시 이 같은 배경.

### SQL Server
- SQL Server는 마이크로소프트가 개발한 RDBMS로 윈도우에서만 동작. 앞에서의 RDBMS에 비해 비교적 새로운 제품으로, 윈도우가 서버 분야로 영역을 넓히면서 SQL Server를 사용하는 시스템도 많이 증가.

### PostgreSQL
- PostgreSQL은 오픈소스 커뮤니티가 개발한 RDBMS. 무료로 자유롭게 사용 가능. 기반이 되는 RDBMS는 캘리포니아 대학교 버클리 캠퍼스에서 탄생했는데, 그 때문인지는 몰라도 실험적인 기능이 포함되어 있거나 독특한
구조를 가지기도 함.

### MySQL
- MySQL은 PostgreSQL과 마찬가지로 오픈소스 커뮤티티에서 태어난 RDBMS로, 세상에 나올 당시만 해도 경량 데이터베이스라는 점을 강조하다 보니 필요한 최소한의 기능만 갖춤.
- 하지만 기능이 확장되면서 지금은 다른 RDBMS와 비교해도 부족하지 않을 정도.

### SQLite
- 오픈소스 커뮤니티에서 태어난 SQLite는 임베디드 시스템에 자주 쓰이는 작은 RDBMS다.

## 4. SQL의 방언과 표준화
- RDBMS는 처음부터 SQL 명령어를 이용해 데이터베이스를 조작하도록 설계된만큼, SQL을 사용할 수 없는 RDBMS는 없다. 하지만 각 데이터베이스 제품별로 기능 확장이 이루어지는 과정에서 '비슷한 조작을 실행하더라도
서로 다른 명령어가 필요한' 상황이 발생했다. 즉, 특정 데이터베이스 제품에만 통용되는 고유 방언이 생겨난 것.
- 이 같은 고유 방언의 간단한 사례 중 하나로 키워드 생략을 들 수 있다. 데이터 삭제의 DELETE 명령어에서 Oracle, SQL Server 에서는 뒤에 붙는 FROM 생략 가능, but, DB2나 PostgreSQL, MySQL에서는
FROM 생략시 구문 에러 발생.
- 또 다른 대표적인 방언의 사례로 외부 결합. Oracle에서는 (+)라는 특별한 연산자를 이용해 외부결합조건을 지정하는 데 비해, SQL Server에서는 *= 연산자를 이용.
- 프로그래밍 언어의 세계에서 '방언'은 환영받지 못한다. 이 같은 방언을 없애려면 모두 '표준어'를 사용하면 된다. ISO 나 ANSI가 결정한 'SQL-92', 'SQL-99', 'SQL-2003' 등이 표준 SQL. (숫자는 연도)
- 지금까지 많은 RDBMS가 표준화에 동참해 기능을 확장해온 덕택에 현재는 방언이 많이 줄어들었다. 하나 덧붙이자면 표준 SQL로 외부결합을 하는 방법은 'LEFT JOIN'
> SQL에는 방언이 있다! 방언 대신 표준 SQL을 사용하는 편이 좋다!

