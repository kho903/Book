# RAID의 정의와 종류
- 1TB 하드 4개로 RAID를 구성하면 4TB 1개의 성능과 안전성을 능가할 수 있다.

## RAID의 정의
- 대용량의 데이터 (개인 정보 등 민감한 정보 포함)를 어떻게 안전하게 관리할 것인가. 보조 기억 장치에도 수명이 있다. 그래서 '하드 디스크와 같은 보조 기억장치에 어떻게든 저장만 하면 된다'와 같은 단순한 답변으로는 부족.
- 이럴 때 사용하는 방법 중 하나가 RAID (Redundant Array of Independent Disks)는 주로 하드 디스크와 SSD를 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적
보조기억장치처럼 사용하는 기술을 의미.

## RAID의 종류
- 여러 개의 하드 디스크나 SSD를 마치 하나의 장치처럼 사용하는 RAID를 구성하는 방법은 여러 가지가 있는데, 구성 방법을 RAID 레벨이라 표현. 대표적으로 RAID 0 ~ 6, 파생된 RAID 10, 50 등이 있다.
대중적인 RAID 레벨은 RAID 0, RAID 1, RAID 4, RAID 5, RAID 6이 있다.

### RAID 0
- RAID 0 은 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식.
- 어떠한 데이터를 저장할 때 각 하드디스크는 번갈아 가며 데이터를 저장. 즉, 저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장됨.
- 이때 마치 줄무늬처럼 분산되어 저장된 데이터를 스트라입(stripe), 분산하여 저장하는 것을 스트라이핑(striping)이라 한다.
- 데이터가 분산되어 저장되면 (스트라이핑), 저장된 데이터를 읽고 쓰는 속도가 빨라진다. 하나의 대용량 저장 장치를 이용했더라면 여러 번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있기 때문이다.
- 단점으로는 저장된 정보가 안전하지 않다. RAID 0으로 구성된 하드 디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는 데 문제가 생길 수 있다.

### RAID 1
- RAID 1은 복사본을 만드는 방식으로 마치 거울처럼 완전한 복사본을 만드는 구성이기에 미러링(mirroring)이라고도 부름.
- RAID 0 처럼 데이터 스트라이핑이 사용되긴 하지만, 마치 거울처럼 동일한 하드 디스크와 동일한 내용이 존재. 
- 어떠한 데이터를 쓸 때는 원본과 복사본 두 군데에 쓴다. 그래서 쓰기 속도는 RAID 0 보다 느리다.
- RAID 1 방식은 복구가 매우 간단하다는 장점이 잇다. 똑같은 디스크가 두 개여서 하나에 문제가 발생해도 잃어버린 정보를 금방 되찾을 수 있다.
- 하지만 하드 디스크 개수가 한정되었을 떄 사용 가능한 용량이 적어지는 단점이 있다. 복사본이 만들어지는 용량만큼 사용자가 사용하지 못한다. 결국 많은 양의 하드 디스크가 필요. 비용 증가의 단점 존재.

### RAID 4
- RAID 4는 RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식.
- '오류를 검출하고 복구하기 위한 정보'를 패리티 비트(parity bit)라고 한다. 패리티를 저장한 장치를 이용해 다른 장치들의 오류 검출, 있다면 복구한다.
- 이로써 RAID 4는 RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관 가능.
- 원래 패리티 비트는 오류 검출만 가능하고 복구는 불가능한데, RAID 에서는 패리티 값으로 오류 수정도 가능. 정리하자면 다음과 같다.
1. RAID 4에서는 패리티 정보를 저장한 장치로써 나머지 장치들의 오류를 검출, 복구한다.
2. 패리티 비트는 본래 오류 검출용 정보지만, RAID 에서는 오류 복구도 가능하다.

### RAID 5
- RAID 4에서는 어떤 새로운 데이터가 저장될 떄마다 패리티를 저장하는 디스크에도 디스크를 쓰개 되므로 패리티를 저장하는 장치에 병목 현상이 발생한다는 문제가 있다. 
- RAID 5에서는 패리티 정보를 분산하여 저장하는 방식으로 병목 현상을 해소한다.

### RAID 6
- RAID 6의 구성은 기본적으로 RAID 5와 같으나, 서로 다른 두 개의 패리티를 두는 방식이다. 이는 오류를 검출하고 복구할 수 있는 수단이 두 개가 생긴 셈.
- 따라서 RAID 6는 RAID 4나 RAID 5보다 안전한 구성이라 볼 수 있다. 다만, 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로, 쓰기 속도는 RAID 5보다 느리다.
- 따라서 RAID 6는 데이터 저장 속도를 조금 희생하더라도 데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식.


- 이 외에도 RAID 0과 RAID 1을 혼합한 RAID 10 방식, RAID 0과 RAID 5를 혼합한 RAID 50 방식도 있다. 이렇게 RAID 레벨을 혼합한 방식을 Nested RAID 라고 한다.
- 각 RAID 레벨마다 장단점이 있으므로 어떤 상황에서 무엇을 최우선으로 원하는지에 따라 최적의 RAID 레벨은 달라질 수 있다. 각 RAID 레벨의 대략적인 구성, 특징이 중요.

## 키워드 정리
- RAID란 데이터의 안전성 혹은 높은 성능을 위해 여러 하드 디스크나 SSD를 마치 하나의 장치처럼 사용하는 기술.
- RAID 0은 데이터를 단순히 병렬로 분산하여 저장, RAID 1은 완전한 복사본을 만듦.
- RAID 4는 패리티를 저장한 장치를 따로 두는 방식, RAID 5는 패리티를 분산하여 저장하는 방식.
- RAID 6는 서로 다른 두 개의 패리티를 두는 방식.
