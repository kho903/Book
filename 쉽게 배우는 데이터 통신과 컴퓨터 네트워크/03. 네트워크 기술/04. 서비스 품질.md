# 3.2 서비스 품질
- 네트워크에서 서비스 품질이라는 용어를 다양하게 해석할 수 있지만, 보통 데이터를 어느 정도로 신뢰성 있게 전송하는지를 의미. 즉, 전송 과정에서의 데이터 변형, 데이터 분실, 전송 지연, 지연 값의 일관성(지터) 등을 기준으로
전송 품질을 판단 가능.
- 네트워크가 사용자에게 제공하는 서비스는 매우 다양하기 때문에 네트워크 서비스 품질을 한마디로 규정은 어려움. 하지만 네트워크 서비스 제공자와 사용자 사이의 기본 서비스 품질은 특정 네트워크 서비스를 사용자에게 제공하는지
여부에서 출발. 그리고 이를 바탕으로 서비스를 이용하는 데 있어서, 네트워크가 서비스의 특성에 부합하도록 어느 수준까지 올바르게 동작하는지를 판단해야 함.
- 사용자에게 제공되는 네트워크 서비스를 등급에 따라 분류할 수 있는데, 이를 서비스 클래스라 함. 서비스 클래스와 서비스 품질은 비슷한 의미로 해석할 수 있지만, 서비스 클래스가 서비스를 좀 더 세부적으로 분류하는 기준이라면,
서비스 품질은 각각의 서비스가 실제 실현되는 환경애 따른 포괄적인 기준임.

## 1. QoS (Quality of Service) 개요
- 인터넷 환경에서 전송 서비스의 품질 문제를 다루는 QoS는 네트워크 설계 과정의 중요한 고려 대상 중 하나. 전송 서비스의 좋고 나쁨을 판단하는 기준은 사용자의 관점에 따라 다양하지만 대부분 QoS로 정의 가능. QoS 기준은 보통
연결형 서비스를 위한 것이지만 비연결형 서비스에도 부분적으로 적용됨.
- 네트워크의 서비스 품질을 만족시키기 위해서는 물리 계층을 포함해 데이터 전송에 관여하는 모든 계층의 유기적인 협조가 필요함. QoS는 주로 전송 계층 사용자가 요청하므로 전송 계층 연결을 설정할 떄 필요한 서비스의 정도를
매개변수로 표시함. QoS 서비스를 지원할 때 전송 계층에 필요한 기능이 구현되며, 하위의 네트워크 계층이 기능의 일부를 수행할 수 있으면 전송 계층의 역할이 그만큼 줄어듦.
- 자주 언급되는 QoS 매개변수는 다음과 같음. 모든 네트워크 사용자가 보다 좋은 서비스 품질을 원하기 때문에 공정성과 형평성, 비용의 문제가 상호 보완적으로 다루어짐.

### 연결 설정 지연 (Connection Establishment Delay)
- 연결 설정 지연은 연결 설정을 위한 request 프리미티브 발생과 confirm 프리미티브 도착 사이의 경과 시간.
- 일반적으로 경과 시간이 짧을수록 서비스 품질이 좋으며, 네트워크 혼잡도 등의 영향을 많이 받음.
- 연결 해제 요구에도 동일한 기준 적용 가능.

### 연결 설정 실패 확률 (Connection Establishment Failure Probability)
- 연결 설정 실패 확률은 임의의 최대 연결 설정 지연 시간을 기준으로 연결 설정이 이루어지지 않을 확률.
- 연결 해제 요구에도 동일한 기준 적용 가능.

### 전송률 (Throughput)
- 전송률은 임의의 시간 구간에서 초당 전송할 수 있는 바이트 수.
- 전송률은 양방향 값이 다를 수 있으므로 별개로 다루어져야 하며, 연결 설정 구간의 네트워크 트래픽에 많은 영향을 받음.

### 전송 지연 (Transient Delay)
- 전송 지연은 송신 호스트가 전송한 데이터가 수신 호스트에 도착할 때까지 경과한 시간.
- 전송률처럼 양방향이 따로 다루어지며, 개별 패킷별로 전송 지연 값이 다를 수 있음.

### 전송 오류율 (Residual Error Rate)
- 전송 오류율은 임의의 시간 구간에서 전송된 총 데이터 수와 오류 발생 데이터 수의 비율.
- 네트워크 서비스 품질과 관련된 기본적인 요소이며, 전송 오류율이 낮을수록 더 좋은 서비스 품질을 지원함.

### 우선순위 (Priority)
- 우선순위는 다른 데이터 전송보다 먼저 처리함을 의미.
- 우선순위가 높은 연결이 우선순위가 낮은 연결보다 좋은 서비스를 제공받음.
- 우선순위는 연결 설정 단위로 이루어질 수도 있고, 패킷 단위로 이루어질 수도 있음.

## 2. 인터넷에서의 QoS
- IP 프로토콜은 원칙적으로 모든 패킷에 대해 동일한 기준을 적용해 목적지까지 데이터를 라우팅함. 특히 데이터의 도착 순서나 데이터의 100% 수신 등을 보장하지 않아 버퍼를 사용해 이 문제를 해결한 후에 응용 계층으로 데이터를
전달해야 함. IP 프로토콜은 이용해 대용량 실시간 서비스를 제공하려면 약간의 시간을 미리 확보해 데이터를 버퍼에 저장하는 작업이 선행되어야 함. 따라서 첫 번째 데이터가 응용 환경에 전달되는 시점은 전송 지연 시간보다 더 늦어짐.
- QoS에서는 전송 데이터를 특징에 따라 여러 종류로 분류함. 예를 들어, 영상 데이터 등은 대용량의 실시간 전송이 필요하지만, 전송 오류 문제에는 상대적으로 관대함. 그에 비해 일반 컴퓨터 데이터는 실시간 기능은 필요 없지만,
전송 오류에 매우 민감함. IP 프로토콜에는 특정 패킷의 우선순위를 조절하는 기능이 존재하지 않으므로, 모든 패킷을 동일한 기준으로 처리한다는 단점 존재.
- IP 프로토콜에서 QoS를 지원하려면 각 패킷을 서로 다른 QoS 기준으로 구분할 수 있어야 하고, 라우터에서 이를 처리해야 함. 또 사용하는 대역의 요구 조건에 따라 패킷을 구분하고, 네트워크 자원의 할당도 그에 부합해야 함.
