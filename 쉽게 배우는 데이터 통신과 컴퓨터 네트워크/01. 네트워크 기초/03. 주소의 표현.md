# 03. 주소의 표현
- 시스템을 설계할 때는 기능이나 목적과 함께 고유 구분자(Identifier) 부여 방법에 대해 우선 고려 필요. 주소가 가리키는 대상의 특징까지 표현 가능. 
- 사람들은 문자, 디지털 환경에서는 0, 1 로 숫자로 된 주소를 표현할 수 밖에 없음.
- 보통 외우기 쉬운 문자 형식의 이름을 추가로 사용해 주소와 이름은 1:1 관계. 연결(변환)하는 기능이 필요. 
- 대상을 유일하게 구별하는 구분자는 다음과 같은 네 가지 특징이 존재.

## 구분자의 네 가지 특징
### 유일성
- 서로 다른 시스템은 같은 식별자를 가질 수 없음.
- 이론적으로 완전한 확장성을 전재로 유일성 보장 불가능.

### 확장성
- 시스템의 최대 수용 규모 예측과 이를 지원할 수 있는 최대 한계 설정.
- 합리적인 기준을 설정해 확장 정도를 예측, 그 이후에 대한 고려도 함께 이루어져야 함.

### 편리성
- 내부 처리 구조를 효율적으로 운용할 수 있도록 해 주어야 함.
- 숫자로 된 주소와 문자로 된 이름을 모두 가지므로 이를 매핑(Mapping)하는 기능이 필요.

### 정보의 함축
- 응용 환경에 필요한 다양한 정보 내포.
- 예 : 주민번호 : 생년월일, 성별, 지역 정보 내재.

## 1. 주소와 이름
- 시스템을 지칭하는 구분자는 내부에서 처리되는 숫자 기반 주소(Address)와 사용자 이해와 편리성 도모하는 문자로 된 이름(Name)을 제공해야 함.
- 일반 사용자는 내부 주소를 몰라도 이름만으로 시스템에 접근할 수 있어야 하며, 이름과 주소를 연결하는 방법은 시스템 내부적으로 처리되어야 함.
- 관리 대상이 많아지면 주소와 이름의 공간이 커지고, 이를 관리하는 시스템의 기능도 복잡해짐.
- 네트워크에는 여러 종류의 주소와 이름 존재. 각 계층의 기능을 담당하는 프로토콜마다 주소를 독립적으로 관리하기 때문.
  - 예 : IP 프로토콜은 호스트 쿠분 위한 IP 주소, 데이터 링크 계층은 LAN 카드별로 MAC 주소 따로 부여. 전송 계층 수행하는 TCP에서는 호스트에서
        수행하는 네트워크 프로세스마다 별도의 포트(Port) 주소 할당 및 관리.

### IP 주소 (IP Address)
- 네트워크 계층의 기능을 수행하는 IP 프로토콜이 호스트를 구분하기 위해 사용하는 주소 체계. 임의의 호스트를 인터넷에 연결하려면 반드시 IP 주소를 할당
받아야 함.
- IP 주소는 32 비트의 이진 숫자로 구성되는데, 보통 8비트씩 네 부분으로 나누어 십진수로 표현.
- IP 주소는 유일성 보장 위해 국제 표준화 기구가 전체 주소를 관리 및 할당. 처음에는 32비트로 제한한 IPv4로 확장성에 문제가 되어 128비트로 확장한
IPv6(Internet Protocol Version 6)를 사용.
- IP 주소는 임의로 할당되는 것이 아닌, 특정 규칙에 따라 인접한 주소들을 그룹으로 묶어 관리. 따라서 IP 주소는 네트워크 계층에서 경로를 선택할 때 중요한
기준이 됨.
- 네트워크 1에 주소가 211.223.201 로 시작하는 호스트들이 있고, 네트워크 2에는 211.223.202로 시작하는 호스트들이 있을 때, 인터넷에서 임의의
호스트가 보낸 패킷이 중간의 라우터에 도착한 경우 이 패킷의 목적지 주소가 211.223.201.30 이라면 당연히 네트워크 1로 중개해야 함.
- 이처럼 인터넷에서 IP 주소는 패킷의 경로를 결정하는 데 중요한 역할을 함. 인터넷에서 네트워크 계층 기능을 수행하는 IP 프로토콜이 전송 패킷의 경로를
결정.

### 호스트 이름
- 인터넷에서 특정 호스트와 연결하려면 반드시 해당 호스트의 IP 주소를 알아야 하고, 인터넷 내부의 네트워크 계층은 호스트를 IP 주소로 구분. 그런데 일반 
사용자는 숫자로 된 IP를 기억하기 힘들어 의미 파악이 쉬운 문자로 된 호스트 이름을 사용하는 것이 일반적.
- 네트워크 계층의 IP 프로토콜은 호스트를 구분하는 용도로 IP 주소만 사용. but, 일반 사용자는 IP 주소보다는 문자로 된 호스트 이름을 사용하기 때문에
중간 계층에서 이를 변환하는 기능을 수행해야 함. 일반적으로 FTP, 텔넷과 같은 네트워크 응용 프로그램은 실행 과정에서 사용자로부터 호스트 이름을 명령어 인수로
입력받음.
- 따라서 가장 먼저 수행할 작업은 DNS(Domain Name System)라는 이름과 주소 변환 기능으로 IP 주소를 얻는 것. 이후 변화된 IP 주소의 호스트에 연결
설정이나 전송 데이터가 포함된 패킷을 전송함.
- DNS 서비스는 호스트 이름을 `<호스트>.<단체이름>.<단체 종류>.<국가 도메인>`으로 4 계층을 점(.)으로 나누어 표기함.

## 2. 주소 정보의 관리
- 일반 사용자가 호스트 지칭시 사용하는 호스트 이름을 도메인 이름(domain name)이라 하며, 인터넷에서는 www.korea.co.kr과 같은 도메인 이름을 IP 주소로
변환하는 작업이 필요.
- 초기 인터넷에서는 아주 간단한 방법으로 호스트 이름과 IP 주소를 변환하였으나, 지금은 DNS라는 분산 데이터베이스 시스템으로 체계적으로 관리.

### 호스트 파일
- 호스트 이름과 주소를 관리하는 가장 간단한 방법으로 파일에 해당 정보 보관.
- 호스트가 추가되거나 삭제되면 먼저 네트워크 관리자의 호스트에서 갱신 작업이 이루어짐. 
- 호스트 파일로 주소와 이름 정보를 관리하는 것은 간단하지만 대부분 수동으로 작업해야 하는 단점 존재. 갱신, 복사 작업에 많은 시간과 노력을 들여야 함.
- 지금은 DNS 서비스가 보편적으로 사용.

### DNS (Domain Name Service)
- DNS는 호스트 파일의 문제점을 해결하기 위해 고안된 것으로, 주소와 이름 정볼ㄹ 자동으로 유지하고 관리하는 분산 데이터베이스 시스템.
- 호스트 주소와 이름 정보는 네임 서버(Name Server)라는 특정한 관리 호스트가 유지되고, 주소 변환 작업이 필요한 클라이언트는 네임 서버에 요청해서
IP 주소를 얻음.
- 네트워크가 커지면 네임 서버에 보관되는 정보의 양도 많아짐. DNS는 하나의 집중화된 네임 서버가 전체 호스트의 정보를 관리하지 않고, 여러 네임 서버에 분산해
관리하도록 설계됨.
- 계층 구조로 연결된 네임 서버는 자신이 관리하는 영역에 위치한 호스트 정보만 관리. 정보를 상호 교환하는 협력 관계로 전체 호스트 정보를 일관성 있게 유지.

### 기타 주소
- 네트워크에서 사용하는 주소는 이를 사용하는 환경에 따라 다양. OSI 7계층 모델의 각 계층에서도 목적에 따라 여러 형태의 주소가 사용됨. 인터넷에서 일반
사용자가 접할 수 있는 대표적인 주소는 다음과 같다.

#### MAC 주소 (Medium Access Control)
- 계층 2의 Data Link 에서 사용하며, 보통 LAN 카드에 내장. 물리 계층을 통해 전송할 때는 MAC 주소로 호스트를 구분.
- 따라서 네트워크 계층이 하위의 데이터 링크 계층에 데이터 전송을 요청하면 먼저 IP 주소를 MAC 주소로 변환하는 과정 필요.

#### IP 주소
- 인터넷에서 네트워크 계층의 기능을 수행하는 IP 프로토콜에서 사용되며, 송신자 IP 주소와 수신자 IP 주소로 구분됨.
- 수신자 IP 주소는 IP 패킷이 지나가는 경로를 결정하는 라우팅의 기준이 됨.

#### 포트 주소 (Port Address)
- 전송 계층에서 사용되며, 호스트에서 실행되 는프로세스를 구분.
- 인터넷에서 연결의 완성은 호스트와 호스트 사이가 아닌, 네트워크 응용 프로세스와 네트워크 응용 프로세스 사이.
- 인터넷의 전송 계층 프로토콜인 TCP와 UDP가 독립적으로 포트 주소를 관리하며, 포트 번호 또는 소켓 주소라는 용어를 사용하기도 함.
