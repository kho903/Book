# 장치 컨트롤러와 장치 드라이버
- 장치 컨트롤러와 장치 드라이버라는 개념을 통해 다양한 외부 장치가 캄퓨터 내부와 연결 및 소통.

## 장치 컨트롤러
- 입출력장치는 CPU, 메모리보다 다르기가 더 까다롭다. 이유는 다음과 같다.
1. 입출력장치에는 종류가 너무나도 많다.
   - 장치가 다양하면 자연스레 장치마다 속도, 데이터, 전송 형식 등 다양. 따라서 다양한 입출력장치와 정보를 주고받는 방식 규격화에 어렵.
2. 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치의 데이터 전송률은 낮다.
   - 전송률(transfer rate)이란 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표.
   - 전송률의 차이는 CPU와 메모리, 입출력장치 간의 통신을 어렵게 한다.
   - 어떤 입출력장치는 상대적으로 CPU, 메모리에 비해 전송률이 낮다. (아닌 경우도 있다.) 
- 이와 같은 이유로 입출력장치는 컴퓨터에 직접 연결되지 않고 장치 컨트롤러(device controller)라는 하드웨어를 통해 연결됨. (입출력 제어기, 입출력 모듈이라고도 불림)
- 모든 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고받고, 장치 컨트롤러는 하나 이상의 입출력장치와 연결되어 있다.
- 장치 컨트롤러는 다음과 같은 역할을 한다.
  - CPU와 입출력장치 간의 통신 중개
  - 오류 검출
  - 데이터 버퍼링
- 장치 컨트롤러가 일종의 번역가 역할을 한다. 자신과 연결된 입출력장치에 문제는 없는지 오류 검출도 함.
- 데이터 버퍼링에서 버퍼링은 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 버퍼라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법. 쉽게 말해, 
'버퍼에 데이터를 조금씩 모았다가 한꺼번에 내보내거나, 데이터를 한 번에 많이 받아 조금씩 내보내는 방법'.
- 즉, 장치 컨트롤러는 전송률 차이를 데이터 버퍼링으로 완화.
- 장치 컨트롤러의 내부는 대표적으로 데이터 레지스터, 상태 레지스터, 제어 레지스터 세 가지이다.
- 데이터 레지스터는 CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터. 앞에서 말한 버퍼 역할. 최근 주고받는 데이터가 많은 입출력장치에서는 레지스터 대신 RAM을 사용하기도 함.
- 상태 레지스터에는 입출력장치가 입출력 작업을 할 준비가 되었는지, 입출력 작업이 완료되었는지, 입출력장치에 오류는 없는지 등의 상태 정보가 저장됨.
- 제어 레지스터는 입출력장치가 수행할 내용에 대한 제어 정보와 명령 저장.
- 이 레지스터들에 담긴 값들은 버스를 타고 CPU나 다른 입출력장치로 전달되기도 하고, 장치 컨트롤러에 연결된 입출력장치로 전달됨.

## 장치 드라이버
- 새로운 장치를 컨퓨터에 연결하려면 장치 드라이버를 설치해야 한다.
- 장치 드라이버란 장치 컨트롤러의 동작을 감지하고 제어함으로써, 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램. 실행 과정에서 메모리에 저장됨.
- 장치 컨트롤러는 하드웨어적 통로, 장치 드라이버는 소프트웨어적인 통로이다. (입출력장치 연결 위한)
- 컴퓨터가 연결된 장치의 드라이버를 인식하고 실행할 수 있다면 그 장치는 어떻든 상관없이 컴퓨터 내부와 정보를 주고받을 수 있다.
- 반대로, 컴퓨터가 연결된 장치의 드라이버를 인식하고 실행할 수 없다면 그 장치는 컴퓨터 내부와 정보를 주고받을 수 없다.
- 장치 드라이버를 인식하고 실행하는 주체는 운영체제이다. 즉 위 두줄의 컴퓨터 -> 운영체제로 이해해도 된다.

## 키워드 정리
- 입출력장치는 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고받음.
- 장치 드라이버는 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램.
