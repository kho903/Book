# CISC와 RISC
- 명령어 파이프라이닝과 슈퍼스칼라 기법을 효과적으로 사용하려면 CPU가 인출하고 해석하고 실행하는 명령어가 파이프라이닝 하기 쉽게 생겨야 한다.
- '파이프라이닝' 관련해 CPU의 언어인 ISA와 각기 다른 성격의 ISA를 기반으로 설계된 CISC와 RISC가 있다.

## 명령어 집합
- CPU는 명령어를 실행하는데, 세상에는 수많은 CPU 제조사마다 규격과 기능, 만듦새 모두 달라 명령어 역시 다르게 생겼다.
- 명령어의 새새한 생김새, 할 수 있는 연산, 주소 지정 방식 등은 CPU마다 조금씩 차이가 있다.
- CPU가 이해할 수 있는 명령어들의 모음을 명령어 집합(instruction set) 또는 명령어 집합 구조(ISA; Instruction Set Architecture)라고 한다. 즉, CPU마다 ISA가 다를 수
있다.
- 어셈블리어는 명령어를 읽기 편하게 표현한 언어라고 했다. ISA가 다르다는 건 CPU가 이해할 수 있는 명령어가 다르다는 뜻이고, 명령어가 달라지면 어셈블리어도 달라진다.
- 즉, 똑같은 코드로 만든 프로그램임에도 CPU가 이해하고 실행할 수 있는 명령어가 달라 어셈블리어도 다르다.
- ISA가 같은 CPU끼리는 서로의 명령어를 이해할 수 있지만, ISA가 다르면 서로의 명령어를 이해하지 못한다. 일종의 CPU의 언어인 셈이다. ISA는 CPU의 언어임과 동시에 CPU를 비롯한
하드웨어가 소프트웨어를 어떻게 이해할지에 대한 약속이다.
- 명령어 병렬 처리 기법들을 적용하기 용이한 ISA가 있고 그렇지 못한 ISA가 있다. 현대 ISA의 양대 산맥으로는 CISC와 RISC가 있다.

## CISC (Complex Instruction Set Computer)
- CISC는 그대로 해석하면 '복잡한 명령어 집합을 활용하는 컴퓨터'를 의미. '컴퓨터'를 'CPU'라고 생각해도 된다. 이름 그대로, 복잡하고 다양한 명령어들을 활용하는 CPU 설계 방식.
- 다양하고 강력한 기능의 명령어 집합을 활용하기 때문에 명령어의 형태와 크기가 다양한 가변 길이 명령어를 활용.
- 메모리에 접근하는 주소 지정 방식도 다양.
- 다양하고 강력한 명령어를 활용한다는 말은 상대적으로 적은 수의 명령어로도 프로그램을 실행할 수 있다는 것을 의미.
- 이런 장점으로 메모리를 최대한 아끼며 개발해야 했던 시절에 인기가 높았다. '적은 수의 명령어만으로도 프로그램을 동작시킬 수 있다'는 점은 메모리 공간을 절약할 수 있다는 장점이기 떄문.
- 하지만 치명적인 단점으로 활용하는 명령어가 워낙 복잡하고 다양한 기능을 제공하는 탓에 명령어의 크기와 실행되기까지의 시간이 일정하지 않고, 복잡한 명령어 때문에 명령어 하나를 실행하는
데에 여러 클럭 주기를 필요로 한다.
- 이는 명령어 파이프라인 구현에 걸림돌. 명령어 수행 시간이 규격화되어 있지 않아 효율적으로 명령어 처리 불가. <- 현대 CPU에서 치명적 약점.
- 게다가 복잡하고 다양한 명령어를 활용할 수 있다고는 하지만, 대다수의 복잡한 명령어의 사용빈도는 낮다. 20퍼센트의 명령어가 80퍼센트를 차지.
- 정리하자면 CISC 명령어 집합은 복잡하고 다양한 기능을 제공하기에 적은 수의 명령으로 프로그램을 동작시키고 메모리 절약 가능, but, 명령어 규격화 어려워 파이프라이닝 어렵.
대다수 복잡한 명령어의 낮은 사용빈도로 CPU 성장에 한계 존재.

## RISC (Reduced Instruction Set Computer)
- CISC의 한계가 주는 교훈은 다음과 같다.
1. 빠른 처리를 위해 명령어 파이프라인을 십분 활용해야 한다. 원활한 파이프라이닝을 위해 '명령어 길이와 수행 시간이 짧고 규격화'되어 있어야 한다.
2. 어차피 자주 쓰이는 명령어만 줄곧 사용되니 복잡한 기능 지원 명령어보다 '자주 쓰이는 기본적인 명령어를 작고 빠르게 만드는 것'이 중요.
- 이런 원칙하에 등장한 것이 RISC. CISC에 비해 명령어의 종류가 적고 짧고 규격화된 명령어, 되도록 1클럭 내외로 실행되는 명령어 지향. 즉, 고정 길이 명령어를 활용함.
- 규격화 및 1클럭 내외로 명령어가 실행되어, 명령어 파이프라이닝에 최적화되어 있음
- 메모리에 직접 접근하는 명령어를 load, store 두 개로 제한할 만큼 메모리 접근을 단순화하고 최소화를 추구한다. 그렇기 때문에 CISC 보다 주소 지정 방식의 종류가 적은 
경우가 많다. 이런 점에서 RISC를 load-store 구조라고 부르기도 함.
- 메모리 접근을 단순화, 최소화 대신 레지스터를 적극적으로 활용함. CISC보다 레지스터를 이용하는 연산이 많고, 일반적인 경우보다 범용 레지스터 개수도 더 많다. 다만 명령어 개수가
더 적어 많은 명령으로 프로그램 작동시킴.
- 표로 정리하면 다음과 같다.

| CISC                 | RISC                 |
|----------------------|----------------------|
| 복잡하고 다양한 명령어         | 단순하고 적은 명령어          |
| 가변 길이 명령어            | 고정 길이 명령어            |
| 다양한 주소 지정 방식         | 적은 주소 지정 방식          |
| 프로그램을 이루는 명령어의 수가 적음 | 프로그램을 이루는 명령어의 수가 많음 |
| 여러 클럭에 걸쳐 명령어 수행     | 1클럭 내외로 명령어 수행       |
| 파이프라이닝하기 어려움         | 파이프라이닝하기 쉬움          |

## 키워드 정리
- ISA는 CPU의 언어이자 하드웨어가 소프트웨어를 어떻게 이해할지에 대한 약속.
- CISC는 복잡하고 다양한 종류의 가변 길이 명령어 집합을 활용.
- RISC는 단순하고 적은 종류의 고정 길이 명령어 집합을 활용.

