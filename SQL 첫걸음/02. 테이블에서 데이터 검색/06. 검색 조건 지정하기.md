# 06. 검색 조건 지정하기
- 데이터 검색에는 열을 지정하는 방법과 행을 지정하는 방법이 있다.
- SELECT 구와 WHERE 구
```sql
SELECT 열1, 열2 FROM 테이블명 WHERE 조건식;
```
- 화면에 표시하여 데이터를 확인할 수 있는데, 한번에 볼 수 있는 데이터 양은 한정되어 있다. 화면에 표시할 때는 행이나 열을 선택해 데이터베이스에서 데이터를 읽어오는, 다시 말해 '검색'이 빈번하게
일어난다. 행을 선택할 때는 WHERE 구를 사용하며, 열을 선택할 때는 SELECT 구를 사용한다.

## 1. SELECT 구에서 열 지정하기
- 데이터를 선택할 때는 열이나 행을 한정한다. 먼저 열을 지정하는 방법인 SELECT를 알아보자.
- Hello World의 SELECT 명령에서는 *를 사용해 sample21 테이블의 모든 열을 취득했다. 열을 한정하기 위해서는 * 부분에 열명을 지정한다.
- SELECT 구에서 열 지정
```sql
SELECT 열1, 열2 ... FROM 테이블명;
```
- 열은 콤마(,)를 이용해 구분하며, 여러 개를 지정 가능. 지정한 열만 결과값으로 표시됨.
```text
mysql> select no, name from sample21;
+------+-----------+
| no   | name      |
+------+-----------+
|    1 | 박준용    |
|    2 | 김재진    |
|    3 | 홍길동    |
+------+-----------+
3 rows in set (0.00 sec)
```
- 'SELECT FROM sample21;'과 같이 열을 전혀 지정하지 않으면 구문 에러 발생. 또한 존재하지 않는 열 지정시에도 에러 발생.
- 열 지정 순서는 임의로 정할 수 있으며, 결과는 지정한 열의 순서대로 표시된다. 동일한 열을 중복해서 지정해도 무관.
> SELECT 구에서 결과로 표시하고 싶은 열을 지정할 수 있다!

## 2. WHERE 구에서 행 지정하기
- 테이블의 열은 많아야 몇십 개 정도지만 행은 열에 비해 훨씬 많을 수 있다. 데이터베이스의 규모에 따라 다르지만 일반적으로 수백 건에서 대규모의 경우 수천만 건의 행에 달하는 경우도 존재.
이처럼 많은 행 속에서 필요한 데이터만 검색하기 위해서 WHERE 구를 사용.
- WHERE 구는 FROM 구의 뒤에 표기. 'WHERE' 뒤에 검색 조건을 표기하고, 조건에 일치하는 행만 SELECT 결과로 반환된다.

### 구의 순서와 생략
- SQL 에서는 구의 순서가 정해져 있어 바꿔적을 수 없다. FROM 구 뒤에 WHERE 구를 표기. 'SELECT 구 -> WHERE 구 -> FROM 구' 순으로 적으면 에러가 발생. 구에는 WHERE 구처럼 생략 가능한
것도 있다. WHERE 구 생략시 테이블 내 모든 행이 검색 대상이 된다.

### WHERE 구
- 조건식은 '열과 연산자, 상수로 구성되는 식'이다. 예를 통해 보자.
- no 열의 값이 2인 행만 검색
```text
mysql> select * from sample21 where no = 2;
+------+-----------+----------+------------------------+
| no   | name      | birthday | address                |
+------+-----------+----------+------------------------+
|    2 | 김재진    | NULL     | 대구광역시 동구        |
+------+-----------+----------+------------------------+
1 row in set (0.00 sec)
```
- 위 WHERE 구에서 지정한 'no = 2'는 올바른 조건식이다. 이 조건식에 일치하는 행만 SELECT 결과로 반환됨, 여기서는 WHERE 구로 행만 추출하지만 SELECT 구로 열 지정을 동시에 할 수 있다.
> WHERE 구의 조건에 일치하는 행만 결과로 반환된다!

### 조건식
- 조건식 'no = 2'는 no 열 값이 2일 경우 참이 되는 조건. 조건식을 자세히 알아보자.
- 'no = 2'는 'no', '=', '2' 3개의 항목으로 나눌 수 있다. 'no'는 열 이름. '='는 연산자. 연산자란 어떤 계산을 할지 지정하는 것으로 보통 기호로 표기. '='의 경우 좌우로 2개 항목이
필요한 '이항 연산자'에 해당하며 일반적으로 많이 쓰이는 기호.
- = 연산자를 기준으로 좌변과 우변의 항목을 비교하고, 서로 같은 값이면 참을, 같지 않으면 거짓을 반환. no = 2 의 조건식에서 no 열 값이 2인 행은 참, 1이나 3인 행은 거짓. 조건식을 만족한(참)
행만 결과값으로 반환됨. = 연산자는 결과값이 참인지 거짓인지를 반환하므로 '비교 연산자'라 부른다.
> 조건식은 참 또는 거짓의 진리값을 반환하는 식으로 비교 연산자를 사용해 표현한다!

### 값이 서로 다른 경우 '<>'
- 비교 연산자는 =외에도 존재. 조건식에 사용하는 연산자를 바꾸거나 복수의 연산자를 조합하면 복잡한 조건식을 만들 수 있다. 검색 조건으로 <> 연산자를 사용하는 예를 보자.
- no 열 값이 2가 아닌 행만 검색
```text
mysql> select * from sample21 where no <> 2;
+------+-----------+------------+---------------------------+
| no   | name      | birthday   | address                   |
+------+-----------+------------+---------------------------+
|    1 | 박준용    | 1976-10-18 | 대구광역시 수성구         |
|    3 | 홍길동    | NULL       | 서울특별시 마포구         |
+------+-----------+------------+---------------------------+
2 rows in set (0.00 sec)
```
- = 에서 <> 로 바꾸었다. = 연산자가 서로 같은 값인지를 비교하는 연산자인 데 반해, <> 연산자는 서로 다른 값인지를 비교하는 연산자. 여기서는 no 열 값이 2가 아닐 경우 참이 되므로, 값이
1과 3인 행이 화면에 표시되었다.
> <> 연산자를 통해 '값이 서로 다른 경우' 참이 되는 조건식으로 변경할 수 있다!
- 이와 같이 WHERE 구에서 지정한 조건식에 따라 복수의 행이 반환되는 경우도 있다. 반드시 하나의 행만 반환되는 것은 아니다. 조건식에 일치하는 행이 전혀 없는 경우에는 아무것도 반환되지 않는다.

## 3. 문자열형의 상수
- 이번에는 name 열을 사용해 동일한 조건으로 검색해보자.
- name 열 값이 '박준용'인 행만 추출
```text
mysql> select * from sample21 where name = '박준용';
+------+-----------+------------+---------------------------+
| no   | name      | birthday   | address                   |
+------+-----------+------------+---------------------------+
|    1 | 박준용    | 1976-10-18 | 대구광역시 수성구         |
+------+-----------+------------+---------------------------+
1 row in set (0.00 sec)
```
- 앞서 보았던 no 열은 수치형. 한편, name 열은 문자열형이다. 수치형 조건식의 경우 비교할 숫자를 그대로 조건식에 표기한다. 하지만 문자열형을 비교할 경우 '박준용'처럼 싱글쿼트('')를 둘러싸 표기
- 날짜시간형의 경우에도 싱글쿼트로 둘러싸 표기. 이떄 연월일은 하이픈(-)으로 구분. 시각은 시분초를 콜론(:)으로 구분하여 표기
- 문자열형의 열과 비교하기 위해서는 조건으로 지정할 값도 그 자료형에 맞춰 지정해야 한다. 한편 자료형에 맞게 표기한 상수값을 '리터럴(literal)'이라 부른다. 문자열 리터럴은 싱글쿼트로 둘러싸 표기

## 4. NULL 값 검색
- '검색'이라고는 해도 조건식을 표기하는 것뿐이므로 간다. 하지만 NULL 값을 검색할 경우에는 주의해야 한다. 먼저 = 연산자로 NULL 값을 검색할 수 있는지 알아보자.
- 연산자로 NULL 검색하기
```text
mysql> select * from sample21 where birthday = NULL;
Empty set (0.00 sec)
```
- birthday 열 값이 NULL 인 행이 있지만 조건식으로 검색이 되지 않는다. 즉, = 연산자로 NULL을 검색할 수는 없다.

### IS NULL
- NULL 값을 검색할 때는 = 연산자가 아닌 'IS NULL'을 사용한다. IS NULL은 술어로 연산자의 한 종류로 생각하면 된다.
- birthday IS NULL 과 같이 사용하면 된다. 좌변 항목의 값이 NULL인 경우 참을 반환한다.
- IS NULL 로 NULL 검색하기
```text
mysql> select * from sample21 where birthday IS NULL;
+------+-----------+----------+---------------------------+
| no   | name      | birthday | address                   |
+------+-----------+----------+---------------------------+
|    2 | 김재진    | NULL     | 대구광역시 동구           |
|    3 | 홍길동    | NULL     | 서울특별시 마포구         |
+------+-----------+----------+---------------------------+
2 rows in set (0.00 sec)
```
- 이제 NULL 값에 해당하는 행이 표시되었다. 반대로 NULL 값이 아닌 행을 검색하고 싶다면 'IS NOT NULL'을 사용하면 된다.
> NULL 값을 검색할 경우에는 IS NULL 을 사용한다!

## 5. 비교 연산자
- = 연산자와 <> 연산자, IS NULL로 검색하는 방법에 관해 알아보았는데, WHERE 구로 지정하는 조건식은 참과 거짓을 반환하는 비교 연산자나 술어를 사용해 표기할 수 있다.
- SQL 에서는 많은 연산자 술어를 사용할 수 있다. 대표적인 연산자를 알아보자.
  - = 연산자 : 좌변과 우변의 값이 같을 경우 참.
  - <> 연산자 : 좌변과 우변의 값이 같지 않을 경우 참.
  - `>` 연산자 : 좌변의 값이 우변의 값보다 클 경우 참. 같거나 작을 경우는 거짓.
  - `>=` 연산자 : 좌변의 값이 우변의 값보다 크거나 같을 경우 경우 참. 작을 경우는 거짓.
  - < 연산자 : 좌변의 값이 우변의 값보다 작을 경우 참. 같거나 클 경우는 거짓.
  - <= 연산자 : 좌변의 값이 우변의 값보다 작거나 같을 경우 참. 클 경우는 거짓.
- `<`연산자와 `>`연산자는 대소관계 비교 연산자이지만, = 을 붙임으로써 서로 값이 같은 경우도 비교 가능. =은 `<`,`>` 뒤에 붙인다. `=>`나 `=<`는 틀린 표기법. 
- 또한 `<=`, `>=` 표기시 사이에 스페이스를 넣어서는 안된다. 스페이스를 넣으면 연산자가 두 개라고 판단해 에러 발생.
