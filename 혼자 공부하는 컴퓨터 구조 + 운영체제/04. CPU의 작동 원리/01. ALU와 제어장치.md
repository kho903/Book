# ALU와 제어장치
- CPU는 메모리에 저장된 명령어를 읽어 들이고, 해석하고, 실행하는 장치.
- CPU 내부에는 계산을 담당하는 ALU, 명령어를 읽어 들이고 해석하는 제어장치, 작은 임시 저장 장치인 레지스터라는 구성 요소 존재.

## ALU
- ALU는 레지스터를 통해 피연산자를 받아들이고, 제어장치로부터 수행할 연산을 알려주는 제어신호를 받아들인다.
- 피연산자와 제어신호로 산술연산, 논리 연산 등 다양한 연산을 수행.
- 연산을 수행한 결과는 특정 숫자, 문자, 메모리 숫자가 될 수 있고 바로 메모리에 저장되지 않고 일시적으로 레지스터에 저장됨.
  - 메모리보다 CPU 내부에 존재하는 레지스터에 접근하는 속도가 훨씬 빨라, 속도 면에서 유리.
- ALU는 계산 결과와 더불어 플래그를 내보낸다. 대표적인 플래그는 아래와 같다.
  - 부호 플래그 : 연산한 결과의 부호 : 1이면 계산 결과는 음수, 0이면 양수.
  - 제로 플래그 : 연산 결과가 0인지 여부 : 1이면 연산 결과는 0, 0일 경우 연산 결과는 0이 아님.
  - 캐리 플래그 : 연산 결과 올림수나 빌림수 발생 여부 : 1이면 발생, 0이면 발생X.
  - 오버플로우 플래그 : 오버플래그 발생 여부 : 1이면 발생, 0이면 발생X.
  - 인터럽트 플래그 : 인터럽트 가능 여부 : 1이면 가능, 0이면 불가능
  - 슈퍼바이저 플래그 : 커널 모드 / 사용자 모드 판단 : 1이면 커널 모드, 0이면 사용자 모드
- 플래그들은 플래그 레지스터라는 레지스터에 저장된다. 이름 그대로 플래그 값들을 저장하는 레지스터.
- 이 밖에도, ALU 내부에는 여러 계산을 위한 회로들이 있다. 대표적으로 덧셈을 위한 가산기, 뺄셈을 위한 보수기, 시프트 연산을 수행해 주는 시프터, 오버플로우를 대비한
오버플로우 검출기 등.

## 제어장치
- 제어장치는 제어 신호를 내보내고, 명령어를 해석하는 부품. 제어 신호는 컴퓨터 부품들을 관리하고 작동시키기 위한 일종의 전기 신호.
- 제어 장치는 CPU 구성 요소 중 가장 정교하게 설계된 부품으로, CPU 제조사마다 구현 방식, 명령어 해석 방식, 주고받는 정보에 차이가 조금씩 있다.
### 제어장치가 무엇을 받아들이는 정보
#### 첫째, 제어장치는 클럭신호를 받아들인다.
- 클럭이란 컴퓨터의 모든 부품을 일사분란하게 움직일 수 있게 하는 시간 단위로, 주기에 맞춰 한 레지스터에서 다른 레지스터로 데이터 이동, ALU에서 연산 수행, 저장된 명령어 읽기를 함.
- 다만 "컴퓨터의 모든 부품이 클럭 신호에 맞춰 작동"이라는 말을 "컴퓨터의 모든 부품이 한 클럭마다 작동"이라고 이해하면 안되고, 박자에 맞춰 작동할 뿐, 한 박자마다 작동하는 것은 아님.

#### 둘째, 제어장치는 '해석해야 할 명령어'를 받아들인다.
- CPU가 해석해야 할 명령어는 명령어 레지스터라는 특별한 레지스터에 저장되는데, 제어 장치는 이 명령어 레지스터로부터 해석할 명령어를 받아들이고, 해석한 뒤,
제어 신호를 발생시켜 컴퓨터 부품들에 수행해야 할 내용을 알려줌.

#### 셋째, 제어장치는 플래그 레지스터 속 플래그 값을 받아들인다.
- 제어 장치는 플래그 값을 받아들이고, 이를 참고하여 제어 신호를 발생시킴.

#### 넷째, 제어장치는 시스템 버스, 그중에서 제어 버스로 전달된 제어 신호를 받아들인다.
- 제어 신호는 CPU뿐만 아니라 입출력장치를 비롯한 CPU 외부 장치도 발생시킬 수 있다. 제어 장치는 제어 버스를 통해 외부로부터 전달된 제어 신호를 받아들이기도 한다.

### 제어장치가 내보내는 정보
- CPU 외부에 전달하는 제어 신호와 CPU 내부에 전달하는 제어 신호.

#### CPU 외부에 전달하는 제어 신호
- 제어 버스로 제어 신호를 보낸다는 말과 같다. 
- 이러한 제어 신호에는 크게 메모리에 전달하는 제어 신호와 입출력장치에 전달하는 제어 신호가 있다.
- 메모리에 저장된 값을 읽거나 새로 쓰고 싶다면 메모리로 제어 신호.
- 입출력장치의 값을 읽거나 새로 쓰고 싶다면 입출력장치로 제어 신호.

#### CPU 내부에 전달하는 제어 신호
- 크게 ALU에 전달하는 제어 신호와 레지스터에 전달하는 제어 신호.
- ALU에는 수행할 연산을 지시하기 위해, 레지스터에는 레지스터 간에 데이터를 이동시키거나, 레지스터에 저장된 명령어를 해석하기 위해 제어 신호를 내보냄.

## 정리
- ALU는 레지스터로부터 피연산자를 받아들이고, 제어장치로부터 제어 신호를 받아들인다.
- ALU는 연산 결과와 플래그를 내보낸다.
- 제어장치는 클럭, 현재 수행할 명령어, 플래그, 제어 신호를 받아들인다.
- 제어장치는 CPU 내부와 외부로 제어 신호를 내보낸다.
